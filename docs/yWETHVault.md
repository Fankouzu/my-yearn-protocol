# ETH/WETH 保险库合约

- [保险库合约](../contracts/yWETHVault.sol)

- 合约地址: https://etherscan.io/address/0xe1237aA7f535b0CC33Fd973D66cBf830354D16c7#code

## 主要方法
- 空闲余额
    - 当前合约在WETH的余额的95%
- 赚钱方法earn:
    - 将空闲余额发送到控制器
    - 调用控制器的`赚钱earn`方法,参数为WETH合约地址和空闲的余额
- 存款方法deposit:
    - 份额 = 存款数额 * 总量 / 当前合约在WETH的余额
    - 为调用者铸造份额(当前合约也是erc20合约,在当前合约中铸造数额为`份额`的erc20 Token)
- 存款ETH方法depositETH:
    - 将主币ETH发送到WETH合约的deposit存款方法
    - 份额 = 存款数额 * 总量 / 当前合约在WETH的余额
    - 为调用者铸造份额(当前合约也是erc20合约,在当前合约中铸造数额为`份额`的erc20 Token)
- 收获方法harvest
    - 只能由控制器合约调用, 将收获Token发送到控制器合约
    - 用于将超出债务限额的所有借入准备金交换以清算为“代币”
- 提款方法withdraw:
    - 根据份额计算出用户的取款数额
    - 将份额销毁
    - 如果当前合约的余额不足,需要调用控制器合约的`取款withdraw`方法将USDC取回到当前合约
    - 将份额对应的取款数额发给用户
- 提款ETH方法withdrawETH
    - 根据份额计算出用户的取款数额
    - 将份额销毁
    - 如果当前合约的余额不足,需要调用控制器合约的`取款withdraw`方法将USDC取回到当前合约
    - 将份额对应的取款数额发给WETH合约的取款方法兑换ETH到当前合约
    - 将兑换出来的ETH发送给用户
- 赚钱和提款方法都会调用控制器合约
